#require 'faker'

# Reset database
Rake::Task['db:drop'].invoke
Rake::Task['db:create'].invoke
Rake::Task['db:migrate'].invoke
#
def data_seed
  create_folders
  create_computers
  #create_articles
end

def create_folders
    folders = [
      {
        name: 'Справка',
        icon: 'Spravka.svg',
        partial_name: 'about'
      }, {
        name: 'Мой компьютер',
        icon: 'computer.svg',
        partial_name: 'window',
      }, {
        name: 'Корзина',
        icon: 'trash.svg',
        partial_name: 'trash'
      }, {
        name: 'Интернет',
        icon: 'internet.svg',
        partial_name: 'matrix'
      }
    ]

  folders.each do |folder|
    create_folder(folder)
  end
end

def create_folder(folder)
  folder = Folder.create(
    name:         folder[:name],
    icon:         folder[:icon],
    partial_name: folder[:partial_name],
    same_window:  folder[:same_window]
  )

puts "Folder with title #{ folder.name } created"
end

def create_computers
  computers = [
  {
    name: '1970',
    icon: 'folder.svg',
    partial_name: 'window',
    same_window: true
  }, {
    name: '1980',
    icon: 'folder.svg',
    partial_name: 'window',
    same_window: true
  }, {
    name: '1990',
    icon: 'folder.svg',
    partial_name: 'window',
    same_window: true
  }, {
    name: '2000',
    icon: 'folder.svg',
    partial_name: 'window',
    same_window: true
  }
]

  computers.each do |computer|
    create_computer(computer)
  end
end

def create_computer(computer)
  folder = Folder.create
  #folder = Folder.find_by_name('Мой компьютер')
  computer = Folder.find_by_name(folder[:name])

  computer = computer.folders.create(
    name:         folder[:name],
    icon:         folder[:icon],
    partial_name: folder[:partial_name],
    same_window:  folder[:same_window],
    parent_id:    folder[:parent_id]
  )

  puts "Fold with title #{ folder.name } created"
end

          #  Folder.create(name: 'Справка', icon: 'Spravka.svg', partial_name: 'about')

          #  computer = Folder.create(name: 'Мой компьютер', icon: 'computer.svg', partial_name: 'window')
          #  computer.folders.create(name: '1970', icon: 'folder.svg', partial_name: 'window', same_window: true)
          #  computer.folders.create(name: '1980', icon: 'folder.svg', partial_name: 'window', same_window: true)
          #  computer.folders.create(name: '1990', icon: 'folder.svg', partial_name: 'window', same_window: true)
          #  computer.folders.create(name: '2000', icon: 'folder.svg', partial_name: 'window', same_window: true)
#
#
          #  Folder.create(name: 'Корзина', icon: 'trash.svg', partial_name: 'trash')
#
          #  Folder.create(name: 'Интернет', icon: 'internet.svg', partial_name: 'matrix')
          #end





data_seed
